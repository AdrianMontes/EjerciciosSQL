-- MySQL Script generated by MySQL Workbench
-- Sun Nov  5 15:44:24 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS ej150;
USE ej150;

-- -----------------------------------------------------
-- Table `mydb`.`pais`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS ej150.`pais` (
  `ID_pais` INT UNSIGNED NOT NULL,
  `pais` VARCHAR(50) NOT NULL,
  `ultima_actualizacion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_pais`))
ENGINE = InnoDB;

INSERT IGNORE INTO ej150.`pais` (ID_pais, pais, ultima_actualizacion)
VALUES (1, 'España', '2023-10-27'),
		(2, 'Francia', '2023-10-27'),
        (3, 'Italia', '2023-10-27'),
        (4, 'Alemania', '2023-10-27'),
        (5, 'Reino Unido', '2023-10-27'),
        (6, 'Japón', '2023-10-27'),
        (7, 'Canadá', '2023-10-27'),
        (8, 'Australia', '2023-10-27'),
        (9, 'Brasil', '2023-10-27'),
        (10, 'México', '2023-10-27'),
        (11, 'Argentina', '2023-10-27'),
        (12, 'Canadá', '2023-10-27'),
        (13, 'Chile', '2023-10-27'),
        (14, 'India', '2023-10-27'),
        (15, 'México', '2023-10-27'),
        (16, 'Brasil', '2023-10-27'),
        (17, 'Colombia', '2023-10-27'),
        (18, 'Perú', '2023-10-27'),
        (19, 'Alemania', '2023-10-27'),
        (20, 'Canadá', '2023-10-27');

-- -----------------------------------------------------
-- Table `mydb`.`ciudad`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS ej150.`ciudad` (
  `ID_ciudad` INT UNSIGNED NOT NULL,
  `ciudad` VARCHAR(50) NOT NULL,
  `ID_pais` INT NOT NULL,
  `ultima_actualizacion` DATE NOT NULL,
  PRIMARY KEY (`ID_ciudad`),
  INDEX `fk_ciudad_pais1_idx` (`ID_pais` ASC) VISIBLE,
  CONSTRAINT `fk_ciudad_pais1`
    FOREIGN KEY (`ID_pais`)
    REFERENCES `mydb`.`pais` (`ID_pais`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT IGNORE INTO ej150.`ciudad` (ID_ciudad, ciudad, ID_pais, ultima_actualizacion)
VALUES (1, 'Madrid', 1, '2023-10-27'),
		(2, 'París', 2, '2023-10-27'),
        (3, 'Roma', 3, '2023-10-27'),
        (4, 'Berlín', 4, '2023-10-27'),
        (5, 'Londres', 5, '2023-10-27'),
        (6, 'Tokio', 6, '2023-10-27'),
        (7, 'Toronto', 7, '2023-10-27'),
        (8, 'Sídney', 8, '2023-10-27'),
        (9, 'Río de Janeiro', 9, '2023-10-27'),
        (10, 'Ciudad de México', 10, '2023-10-27'),
        (11, 'Buenos Aires', 11, '2023-10-27'),
        (12, 'Toronto', 12, '2023-10-27'),
        (13, 'Santiago', 13, '2023-10-27'),
        (14, 'Nueva Delhi', 14, '2023-10-27'),
        (15, 'Ciudad de México', 15, '2023-10-27'),
        (16, 'Río de Janeiro', 16, '2023-10-27'),
        (17, 'Bogotá', 17, '2023-10-27'),
        (18, 'Lima', 18, '2023-10-27'),
        (19, 'Berlín', 19, '2023-10-27'),
        (20, 'Toronto', 20, '2023-10-27');

-- -----------------------------------------------------
-- Table `mydb`.`direccion`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS ej150.`direccion` (
  `ID_direccion` INT UNSIGNED NOT NULL,
  `direccion` VARCHAR(50) NOT NULL,
  `direccion2` VARCHAR(50) NOT NULL,
  `distrito` VARCHAR(20) NOT NULL,
  `ID_ciudad` INT NOT NULL,
  `codigo_postal` VARCHAR(10) NOT NULL,
  `telefono` VARCHAR(20) NOT NULL,
  `localizacion` VARCHAR(20) NOT NULL,
  `ultima_actualizacion` DATE NOT NULL,
  PRIMARY KEY (`ID_direccion`),
  INDEX `fk_direccion_ciudad_idx` (`ID_ciudad` ASC) VISIBLE,
  CONSTRAINT `fk_direccion_ciudad`
    FOREIGN KEY (`ID_ciudad`)
    REFERENCES `mydb`.`ciudad` (`ID_ciudad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT IGNORE INTO ej150.`direccion` (ID_direccion, direccion, direccion2, distrito, ID_ciudad, codigo_postal, telefono, localizacion, ultima_actualizacion)
VALUES (1, 'Calle Principal', 'Piso 2', 'Centro', 1, '28001', '123-456-789', 'GPS-123', '2023-10-27'),
		(2, 'Avenue des Champs-Élysées', 'Apartment 5', 'Champs-Élysées', 2, '75008', '987-654-321', 'GPS-456', '2023-10-27'),
        (3, 'Via Roma', 'Appartamento 7', 'Centro Storico', 3, '00100', '555-123-789', 'GPS-789', '2023-10-27'),
        (4, 'Hauptstraße', 'Wohnung 3', 'Mitte', 4, '10115', '111-222-333', 'GPS-101', '2023-10-27'),
        (5, 'Baker Street', 'Flat 7', 'Westminster', 5, 'W1U 6RJ', '777-888-999', 'GPS-202', '2023-10-27'),
        (6, 'Ginza-dori', 'Apartment 15', 'Chuo', 6, '104-0061', '555-777-111', 'GPS-303', '2023-10-27'),
        (7, 'Calle Mayor', 'Piso 3', 'Centro', 7, '28002', '234-567-890', 'GPS-234', '2023-10-27'),
        (8, 'Rue de Rivoli', 'Appartement 8', 'Le Marais', 8, '75001', '876-543-210', 'GPS-567', '2023-10-27'),
        (9, 'Via Veneto', 'Appartamento 5', 'Pinciano', 9, '00187', '333-999-555', 'GPS-999', '2023-10-27'),
        (10, 'Kurfürstendamm', 'Wohnung 1', 'Charlottenburg', 10, '10719', '555-111-777', 'GPS-111', '2023-10-27'),
        (11, 'Portobello Road', 'Flat 3', 'Notting Hill', 11, 'W11 2DY', '999-111-444', 'GPS-777', '2023-10-27'),
        (12, 'Piazza di Spagna', 'Appartamento 2', 'Campo Marzio', 12, '00187', '888-222-666', 'GPS-222', '2023-10-27'),
        (13, 'Friedrichstraße', 'Apartment 10', 'Mitte', 13, '10117', '777-333-111', 'GPS-555', '2023-10-27'),
        (14, 'Broadway', 'Apartment 6', 'Manhattan', 14, '10001', '555-999-777', 'GPS-444', '2023-10-27'),
        (15, 'Nevsky Prospekt', 'Apartment 12', 'Tsentralny', 15, '191186', '333-666-222', 'GPS-111', '2023-10-27'),
        (16, 'Oxford Street', 'Flat 4', 'West End', 16, 'W1D 1LL', '777-888-555', 'GPS-888', '2023-10-27'),
        (17, 'Passeig de Gràcia', 'Pis 1', 'Eixample', 17, '08007', '111-222-333', 'GPS-333', '2023-10-27'),
        (18, 'Kärntnertor', 'Wohnung 6', 'Innere Stadt', 18, '1010', '999-666-333', 'GPS-666', '2023-10-27'),
        (19, 'Rodeo Drive', 'Mansion 1', 'Beverly Hills', 19, '90210', '888-555-111', 'GPS-555', '2023-10-27'),
        (20, 'Nihonbashi', 'Apartment 8', 'Chūō', 20, '103-0027', '666-111-888', 'GPS-111', '2023-10-27');

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

SELECT * FROM pais INNER JOIN ciudad ON pais.ID_pais = ciudad.ID_pais INNER JOIN direccion ON ciudad.ID_ciudad = direccion.ID_ciudad;